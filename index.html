<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fairuz & Izzati Wedding</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Gate Animation -->
<div class="gate-left" id="gateLeft"></div>
<div class="gate-right" id="gateRight"></div>
<button class="open-btn" onclick="openGate()">Open</button>

<!-- Background Music -->
<audio id="bgMusic" src="assets/music.mp3" loop preload="auto"></audio>

<!-- Main Content -->
<main id="mainContent" class="hidden">

  <!-- Video Section -->
  <div class="video-container">
    <video src="assets/video.mp4" autoplay muted loop playsinline></video>
  </div>

  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <!-- Invitation Details -->
  <section class="invitation">
    <p>With heartfelt gratitude to God Almighty</p>
    <p>We would like to invite </p>
    <p>Dato' | Datin | Dr | Mr.| Mrs. | MS.</p>
    <p>to the wedding reception of</p>
    <h2 class="fancy-names">Mohamed Fairuz Mustapha <br>&<br> Noor Izzati Amir</h2>
    <br>
    <h3>VENUE</h3>
    <p>Evanthea Wedding Hall</p>
    <p>25 May 2025, 11:00 AM – 4:00 PM</p>
  </section>

  <!-- Program Section -->
  <section class="program">
    <div class="program-card">
      <img src="assets/gate-left.png" class="decor decor-left" />
      <img src="assets/gate-right.png" class="decor decor-right" />
      <h3>PROGRAMME</h3>
      <p>The Arrival of Bride & Groom: <strong>12:00 pm</strong></p>
      <p>Nikah Ceremony: <strong>12:30 pm</strong></p>
      <p>Lunch: <strong>1:00 pm - 4:00 pm</strong></p>
    </div>
  </section>

  <!-- Countdown -->
  <section class="countdown" id="countdown">
    <h2>Countdown Kak Atie Kahwin</h2>
    <div id="timer"></div>
  </section>

  <!-- Gallery -->
  <section class="gallery">
    <h3>Pictures</h3>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="assets/pic (10).jpg" alt="Photo 1" /></div>
        <div class="swiper-slide"><img src="assets/pic (11).jpg" alt="Photo 2" /></div>
        <div class="swiper-slide"><img src="assets/pic (12).jpg" alt="Photo 3" /></div>
        <div class="swiper-slide"><img src="assets/STKT1253.jpg" alt="Photo 7" /></div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </section>
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  
</main>

<!-- All MODALS should go ABOVE bottom nav -->


<!-- GIFT MODAL -->
<div id="giftModal" class="modal">
  <div class="modal-content gift-modal">
    <span class="close" onclick="closeModal('giftModal')">&times;</span>
    <h3>GIFT</h3>

    <!-- Touch 'n Go -->
    <div class="gift-card">
      <div class="gift-title">
        <img src="assets/TngLogo.png" alt="TnG Logo" />
        <span>Touch 'n Go</span>
      </div>
      <img src="assets/tng.jpeg" alt="Touch 'n Go QR" class="qr-image" />
      <p class="recipient-name">Muhammad Shafiq Faris Bin Shamsul Ariffin</p>
    </div>

    <!-- Maybank -->
    <div class="gift-card">
      <div class="gift-title">
        <img src="assets/MaybankLogo.png" alt="Maybank Logo" />
        <span>Maybank</span>
      </div>
      <img src="assets/maybank.png" alt="Maybank QR" class="qr-image" />
      <p class="recipient-name">Muhammad Shafiq Faris Bin Shamsul Ariffin</p>
    </div>
  </div>
</div>



<!-- CALL Modal -->
<div id="callModal" class="modal">
  <div class="modal-content contact-modal">
    <span class="close" onclick="closeModal('callModal')">&times;</span>
    <h3>CONTACT</h3>

    <!-- Contact 1 -->
    <div class="contact-entry">
      <div class="contact-info">
        <strong>Shahira Fazira</strong><br><em>Bride Assistant</em>
      </div>
      <div class="contact-actions">
        <a href="https://wa.me/60178778471?text=Fairuz%20%26%20Izzati%20Wedding" target="_blank" class="wa-btn" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="tel:+60178778471" class="phone-number">+6017-877 8471</a>
      </div>
    </div>

    <!-- Contact 2 -->
    <div class="contact-entry">
      <div class="contact-info">
        <strong>Shahida Farisha</strong><br><em>Anak Buah</em>
      </div>
      <div class="contact-actions">
        <a href="https://wa.me/60128781728?text=Fairuz%20%26%20Izzati%20Wedding" target="_blank" class="wa-btn" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="tel:+60128781728" class="phone-number">+6012-878 1728</a>
      </div>
    </div>
  </div>
</div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<!-- MAP MODAL -->
<div id="mapModal" class="modal">
  <div class="modal-content location-modal">
    <span class="close" onclick="closeModal('mapModal')">&times;</span>
    <h3>LOCATION</h3>

    <p class="venue-name">Evanthea Wedding Hall</p>
    <p class="venue-address">
      Wisma IAV, 86, L1-01,  <br>
      Jalan Pasar, Pudu,<br>
      55100 Kuala Lumpur,<br>
      Wilayah Persekutuan Kuala Lumpur
    </p>

    <div class="location-buttons">
      <a href="https://maps.app.goo.gl/keUAhYEHi5GmEsxCA" class="map-btn" target="_blank">
        <img src="assets/google.png" alt="Google Maps Icon" />
        Maps
      </a>
    
      <a href="https://ul.waze.com/ul?place=ChIJFeIA5nY3zDERczvTo7gJuJY&ll=3.13524710%2C101.71671640&navigate=yes&utm_campaign=default&utm_source=waze_website&utm_medium=lm_share_location" class="map-btn" target="_blank">
        <img src="assets/waze.png" alt="Waze Icon" />
        Waze
      </a>
    </div>
    
    </div>
  </div>
</div>

<!-- UNIFIED RSVP MODAL -->
<div id="rsvpModal" class="modal">
  <div class="modal-content rsvp-modal">
    <span class="close" onclick="closeModal('rsvpModal')">&times;</span>
    <h3>RSVP & WISHES</h3>
    <form id="rsvpForm">
      <input type="text" name="name" placeholder="Your Full Name" required />
      <input type="email" name="email" placeholder="Email Address" required />
      <input type="tel" name="phone" placeholder="Phone Number" required />

      <select name="status" id="status" required>
        <option value="">Will you attend?</option>
        <option value="Attending">Yes</option>
        <option value="Not Attending">No</option>
      </select>

      <div id="attendanceGroup" style="display:none;">
        <select name="attendance">
          <option value="">Number of Guests Attending</option>
          <option value="1">1 person</option>
          <option value="2">2 people</option>
        </select>
      </div>

      <textarea name="wishes" placeholder="Leave us a message (optional)"></textarea>

      <div class="form-actions">
        <button type="submit">Submit</button>
        <button type="button" onclick="closeModal('rsvpModal')">Cancel</button>
      </div>
    </form>
  </div>
</div>



<div class="bottom-nav">
  <a onclick="openModal('callModal')">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.86 19.86 0 0 1 3 5.18 2 2 0 0 1 5 3h3a2 2 0 0 1 2 1.72c.12.83.37 1.63.73 2.38a2 2 0 0 1-.45 2.11L9 11a16 16 0 0 0 4 4l1.79-1.28a2 2 0 0 1 2.11-.45c.75.36 1.55.61 2.38.73A2 2 0 0 1 22 16.92z" />
    </svg>
    <span>Call</span>
  </a>

  <a onclick="openModal('mapModal')">
    <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5z"/></svg>
    <span>Map</span>
  </a>
  

  <a onclick="openModal('giftModal')">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
      <path d="M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8M2 7h20M12 22V7" />
    </svg>
    <span>Gift</span>
  </a>

  <a onclick="openModal('rsvpModal')">
    <!-- your icon here -->
    <span>RSVP</span>
  </a>
  
</div>



<script>
  const gateLeft = document.getElementById("gateLeft");
  const gateRight = document.getElementById("gateRight");
  const music = document.getElementById("bgMusic");
  const mainContent = document.getElementById("mainContent");

  function openGate() {
    gateLeft.classList.add("open");
    gateRight.classList.add("open");
    document.querySelector(".open-btn").classList.add("hidden");
    music.play();
    setTimeout(() => {
      gateLeft.style.display = "none";
      gateRight.style.display = "none";
      mainContent.classList.remove("hidden");
    }, 1200);
  }

  const countdownDate = new Date("May 25, 2025 13:00:00").getTime();
  const timer = document.getElementById("timer");

  setInterval(() => {
    const now = new Date().getTime();
    const distance = countdownDate - now;
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
    timer.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
  }, 1000);

  function openModal(id) {
    document.getElementById(id).style.display = 'flex';
  }

  function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

  
</script>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiper = new Swiper('.swiper-container', {
    loop: true,
    autoplay: {
      delay: 2500,
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    spaceBetween: 20,
  });
</script>

<script>
  const statusSelect = document.getElementById('status');
  const attendanceGroup = document.getElementById('attendanceGroup');

  statusSelect.addEventListener('change', function () {
    attendanceGroup.style.display = (this.value === 'Attending') ? 'block' : 'none';
  });
</script>


<!-- Modal Logic + Submit Handler -->
<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbx8JY7797ZnePTJackaMZHu6vTT8J23wSjB3XrnIKCsSsaz0MA66tO_AyVc3L_uSgBt/exec';

  document.getElementById('rsvpForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const f = e.target.elements;

    const formData = {
      name: f.name.value,
      email: f.email.value,
      phone: f.phone.value,
      status: f.status.value,
      attendance: f.attendance?.value || '',
      wishes: f.wishes.value
    };

    fetch(scriptURL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    })
    .then(res => res.json())
    .then(res => {
      if (res.result === 'success') {
        alert('✅ Thank you! Your RSVP has been recorded.');
        document.getElementById('rsvpForm').reset();
        attendanceGroup.style.display = 'none';
      } else if (res.result === 'duplicate') {
        alert('⚠️ This phone number has already RSVP\'d.');
      } else if (res.result === 'missing_fields') {
        alert('⚠️ Please fill in all required fields.');
      } else {
        alert('❌ Error: ' + (res.message || 'Unknown error.'));
      }
    })
    .catch(err => {
      console.error('Fetch error:', err);
      alert('Something went wrong. Please try again later.');
    });
  });
</script>



</body>
</html>
